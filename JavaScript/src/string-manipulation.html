<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
    <script>
        function VerifyRequired(){
            var name=document.getElementById("txtName").value
            var nameError=document.getElementById("textError")
            if(name.length==0){
                nameError.innerHTML="Name field is required<sup>*</sup>".fontcolor("gold")
            }
            else if(name.length<4 && name.length>0){
                nameError.innerHTML="Name must be greater than 3 characters".fontcolor("red")
            }
            else{
                var nameUpper=name.charCodeAt(0)
                if(nameUpper>=65 && nameUpper<=90){
                    nameError.innerHTML=""
                }
                else{
                    nameError.innerHTML="First character must be in uppercase".fontcolor("red")
                }
            }
        }
        function VerifyComments(){
            var comment=document.getElementById("txtComment").value
            var warning=document.getElementById("DisplayComment")
            var maxlength=100
            warning.innerHTML=`Total ${maxlength-comment.length} words remaining out of 100 words`.fontcolor("red")
        }
        function VerifyEmail(){
            var email=document.getElementById("txtEmail").value
            if(email.indexOf("@")==-1){
                document.getElementById("displayEmail").innerHTML="please include @ sign".fontcolor("red")
            }
            else{
                if(email.endsWith("gmail.com")){
                    document.getElementById("displayEmail").innerHTML=""
                }
                else{
                document.getElementById("displayEmail").innerHTML="Please enter a valid email address".fontcolor("red")
            }
            }
        }
        function CardSelect() {
            var cardNumber=document.getElementById("txtCard").value
            var Image=document.getElementById("selectImg")
            if(cardNumber.startsWith("4455")){
                Image.src="./pictures/Mastercard.webp"
            }
            else{
                if(cardNumber.startsWith("5544")){
                    Image.src="./pictures/visa.jpg"
                }
            }
        }
    </script>
</head>
<body class="container-fluid">
    <dl class="mt-3 w-25">
        <dt>User Name</dt>
        <dd><input type="text" id="txtName" onblur="VerifyRequired()" onkeyup="VerifyRequired()"></dd>
        <dd id="textError"></dd>
        <dt>Your Comments</dt>
        <dd><textarea id="txtComment" onkeyup="VerifyComments()" maxlength="100" rows="4" cols="40"></textarea></dd>
        <dd id="DisplayComment"></dd>
        <dt>Your email</dt>
        <dd><input type="text" id="txtEmail" onblur="VerifyEmail()"></dd>
        <dd id="displayEmail"></dd>
        <dt>Your Card</dt>
        <dd class="input-group"><input type="text" class="form-control" id="txtCard" onblur="CardSelect()"><img  class="input-group-text" id="selectImg" width="100" height="50"></dd>
    </dl>
</body>
</html>
